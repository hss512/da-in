<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset = UTF-8" />
    <title>채팅 서비스</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript" th:src="@{/js/chat.js}"></script>
</head>

<body>

<div class = "container">
    <table class = "table table-striped">
        <thead>
        <tr>
            <th>번호</th>
            <th>방 이름</th>
            <th>현재 인원</th>
            <th>최대 인원</th>
            <th>입장버튼</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="room : ${rooms}">
            <td th:id="roomId+${room.id}" th:text="${room.getId()}"></td>
            <td th:text="${room.getName()}"></td>
            <td th:id="countUser+${room.id}" th:text="${room.getCountUser()}"></td>
            <td th:id="userLimit+${room.id}" th:text="${room.getUserLimit()}"></td>
            <td>
                <a class = "btn btn-primary" th:onclick="|javascript:userCountCheck(${room.id},${room.countUser},${room.userLimit})|" th:href = "@{/chat/room(roomCode=${room.getRoomCode()})}"></a>
            </td>
        </tr>
        </tbody>
    </table>
    <a class = "btn btn-primary pull-right" href = "/chat/new">새로 만들기</a>
</div>

</body>
</html>